{%- liquid
  assign block_st = block.settings
  assign section_st = section.settings
  assign items_per_row = section_st.items_per_row
  if section_st.section_width == 'fix_width'
    assign section_width = 'container'
  elsif section_st.section_width == 'full_width'
    assign section_width = 'full-width px-20'
  else
    assign section_width = 'fluid_container'
  endif

  assign image = block_st.collection_image | default: block_st.collection.image
  assign collection_title = block_st.collection_title | default: block_st.collection.title
  if collection_title == blank
    assign collection_title = 'sections.collection_list.sample_name' | t
  endif
  assign collection_url = block_st.collection.url
  if image.alt != blank
    assign alt_text = image.alt
  elsif collection_title != blank
    assign alt_text = collection_title
  else
    assign alt_text = 'sections.collection_list.sample_name' | t
  endif
  assign column_gap_slide = 0
  if section_st.column_gap_block == 'large'
    assign column_gap_slide = 30
  elsif section_st.column_gap_block == 'medium'
    assign column_gap_slide = 20
  elsif section_st.column_gap_block == 'small'
    assign column_gap_slide = 10
  endif
-%}
{% style %}
.collection-list__content-inner .collection-list__icon {
    transition:  transform 0.3s ease;;
    transform: rotate(0deg);
  }
  .collection-list__content-inner:hover .collection-list__icon {
    background-color: var(--btn-primary-hover-bg-color);
    color: var(--btn-primary-hover-color);
    transition: background-color 0.3s ease, color 0.3s ease, transform 0.3s ease;;
    transform: rotate(45deg);
  }
{% endstyle %}
<collection-hover {{ block.shopify_attributes }}>
  <a
    class="heading-style collection-list__content block"
    {% if collection_url != blank %}
      href="{{ collection_url }}"
    {% else %}
      role="link" aria-disabled="true"
    {% endif %}
    aria-label="{{ collection_title }}"
  >
    <div class="collection-list__content-inner flex space-between align-center py-20 border-bottom">
      <div
        class="collection-list__content-text h4 relative max-w-custom-all flex gap-custom"
        style="--max-width: 80%;--gap: 8"
      >
        {{ collection_title }}
        {%- if section.settings.show_product_count -%}
          <div class="product-count text-color fs-13 body-weight">
            {{ block_st.collection.products_count | default: 0 }}
          </div>
        {%- endif -%}
      </div>
      <span class="collection-list__icon w-50 h-50 flex content-center border rounded-50 bg-custom text-color" style="--bg-color-custom: var(--btn-primary-bg-color);--color-text: var(--btn-primary-color);">
        {%- render 'icon-arrow-top' -%}
      </span>
    </div>
    <div class="collection-list__image-hover hidden-mobile rounded w-custom h-full" style="opacity: 0;--width:12rem;">
      {%- if image != blank -%}
        {%
          render 'responsive-image',
          type: 'other',
          image: image,
          image_alt: alt_text,
          container: section_width,
          column: items_per_row,
          column_mobile: section_st.items_per_row_mobile,
          padding: column_gap_slide,
          class: "rounded"
        %}
      {%- else -%}
        {% render 'placeholder-render', type: 'collection' %}
      {%- endif -%}
    </div>
  </a>
</collection-hover>

{% schema %}
{
  "name": "t:sections.collection-list.blocks.featured_collection.name",
  "class": "collection-list__item",
  "settings": [
    {
      "type": "collection",
      "id": "collection",
      "label": "t:sections.collection-list.blocks.featured_collection.settings.collection.label"
    },
    {
      "type": "image_picker",
      "id": "collection_image",
      "label": "t:sections.collection-list.blocks.featured_collection.settings.image.label",
      "info": "t:sections.collection-list.blocks.featured_collection.settings.image.info"
    },
    {
      "type": "text",
      "id": "collection_title",
      "label": "t:sections.collection-list.blocks.featured_collection.settings.title.label",
      "info": "t:sections.collection-list.blocks.featured_collection.settings.title.info"
    }
  ],
  "presets": [{ "name": "t:sections.collection-list.blocks.featured_collection.name" }]
}
{% endschema %}
