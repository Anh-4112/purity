<script src="{{ 'countdown-timer.js' | asset_url }}" defer="defer"></script>
{% assign block_st = block.settings %}
<div
  class="block__heading mb-custom"
  style="--space-bottom: {{ block_st.spacing_bottom }};"
  {{ block.shopify_attributes }}
>
  <countdown-timer
    class="no-js-hidden inline-flex wrap mt-30 gap-10 overflow-hidden heading-color align-center"
    data-deadline="{{ block.settings.end_times }}"
    data-days="{{ 'sections.countdown.format.days' | t }}"
    data-hours="{{ 'sections.countdown.format.hours' | t }}"
    data-mins="{{ 'sections.countdown.format.mins' | t }}"
    data-secs="{{ 'sections.countdown.format.secs' | t }}"
    data-message="{{ block.settings.message }}"
  >
    <div class="countdown-container lh-normal flex relative content-center">
      <span class="days_timer countdown-item">00</span>
      <span class="timer-announcementbar-text">{{ 'sections.countdown.format.days' | t }}</span>
    </div>
    <div class="countdown-container lh-normal flex relative content-center">
      <span class="hours_timer countdown-item">00</span>
      <span class="timer-announcementbar-text">{{ 'sections.countdown.format.hours' | t }}</span>
    </div>
    <div class="countdown-container lh-normal flex relative content-center">
      <span class="minutes_timer countdown-item">00</span>
      <span class="timer-announcementbar-text">{{ 'sections.countdown.format.mins' | t }}</span>
    </div>
    <div class="countdown-container lh-normal flex relative content-center">
      <span class="seconds_timer countdown-item">00</span>
      <span class="timer-announcementbar-text">{{ 'sections.countdown.format.secs' | t }}</span>
    </div>
  </countdown-timer>
</div>

{% schema %}
{
  "name": "t:sections.image-with-text-overlay.countdown",
  "settings": [
    {
      "type": "text",
      "id": "end_times",
      "label": "t:sections.image-with-text-overlay.end_time.label",
      "info": "t:sections.image-with-text-overlay.end_time.info",
      "default": "11-20-2025"
    },
    {
      "type": "text",
      "id": "message",
      "label": "t:sections.image-with-text-overlay.message.label",
      "info": "t:sections.image-with-text-overlay.message.info",
      "default": "Timer expired"
    },
    {
      "type": "range",
      "id": "spacing_bottom",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "t:sections.all.padding.spacing_bottom",
      "default": 15
    }
  ],
  "presets": [{ "name": "t:sections.image-with-text-overlay.countdown" }]
}
{% endschema %}
