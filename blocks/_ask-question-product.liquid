{%- if closest.product != blank -%}
  {%- liquid
    assign heading = block.settings.heading
    assign description = block.settings.description
  -%}
  <div class="ask-question">
    <div class="ask-info">
      {% if heading %}
        <div class="heading h7 flex gap-10 mb-8">
          <svg width="24" height="24" fill="none">
            <path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m18.472 16.829.39 3.16c.1.83-.79 1.41-1.5.98l-4.19-2.49c-.46 0-.91-.03-1.35-.09a4.86 4.86 0 0 0 1.18-3.16c0-2.84-2.46-5.14-5.5-5.14-1.16 0-2.23.33-3.12.91-.03-.25-.04-.5-.04-.76 0-4.55 3.95-8.24 8.83-8.24s8.83 3.69 8.83 8.24c0 2.7-1.39 5.09-3.53 6.59Z"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13.002 15.23c0 1.19-.44 2.29-1.18 3.16-.99 1.2-2.56 1.97-4.32 1.97l-2.61 1.55c-.44.27-1-.1-.94-.61l.25-1.97c-1.34-.93-2.2-2.42-2.2-4.1 0-1.76.94-3.31 2.38-4.23.89-.58 1.96-.91 3.12-.91 3.04 0 5.5 2.3 5.5 5.14Z"/>
          </svg>
          {{ heading }}
        </div>
      {% endif %}
      <div class="description">
        {% if description %}
          {{ description }}
        {% endif %}
        <button
          class="btn-reset pointer inline-block btn-link border-animation body_weight lh-1"
          id="ask-question"
          is="ask-question"
        >
          {{ 'products.product.ask_question' | t }}
        </button>
      </div>
    </div>
    <div class="popup-ask-question d-none">
      <template>
        <ask-question-popup
          class="modal active-modal-js"
        >
          <modal-overlay class="modal-overlay invisible z-21 transition-drawer pointer"></modal-overlay>
          <div
            class="modal-popup-inner modal-focus h-content transition modal-draggable rounded max-w-custom m-auto invisible-1025 fixed inset-0 z-22 bg-white w-full"
            tabindex="-1"
            style="--max-width: 80rem;"
          >
            <draggable-modal class="modal__header relative drawer__header drawer-spacing border-bottom flex gap-10 space-between">
              <div class="drawer__heading h5">{{ 'products.product.ask_question' | t }}</div>
              <button
                is="button-close-model"
                class="modal__close pointer btn-reset hidden w-30 inline-flex-1025 align-center flex-end"
                aria-label="Close"
              >
                <svg width="13" height="14" viewBox="0 0 13 14" fill="none">
                  <path d="M0.282609 2.06784C0.0942029 1.89363 0 1.68314 0 1.43635C0 1.17504 0.0942029 0.950028 0.282609 0.761307C0.456522 0.587102 0.673913 0.5 0.934783 0.5C1.19565 0.5 1.41304 0.587102 1.58696 0.761307L6.5 5.68258L11.413 0.761307C11.587 0.587102 11.8043 0.5 12.0652 0.5C12.3261 0.5 12.5435 0.587102 12.7174 0.761307C12.9058 0.950028 13 1.17504 13 1.43635C13 1.68314 12.9058 1.89363 12.7174 2.06784L7.80435 6.98911L12.7174 11.9104C12.9058 12.0991 13 12.3241 13 12.5854C13 12.8322 12.9058 13.0427 12.7174 13.2169C12.5435 13.4056 12.3261 13.5 12.0652 13.5C11.8043 13.5 11.587 13.4056 11.413 13.2169L6.5 8.31742L1.58696 13.2169C1.41304 13.4056 1.19565 13.5 0.934783 13.5C0.673913 13.5 0.456522 13.4056 0.282609 13.2169C0.0942029 13.0427 0 12.8322 0 12.5854C0 12.3241 0.0942029 12.0991 0.282609 11.9104L5.19565 6.98911L0.282609 2.06784Z" fill="currentColor"></path>
                </svg>
              </button>
            </draggable-modal>
            <div class="drawer__body h-full overflow-y-auto custom-scrollbar p-30">
              {%- render 'ask-question-form' -%}
            </div>
          </div>
        </ask-question-popup>
      </template>
    </div>
  </div>
{%- endif -%}
{% schema %}
{
  "name": "t:sections.all.product_setting.ask_question.name",
  "class": "block-product__ask-question my-custom slideIn-animate",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "t:sections.all.product_setting.promotion_alert.heading.label",
      "default": "Ask a question"
    },
    {
      "type": "text",
      "id": "description",
      "default": "Help Center",
      "label": "t:sections.all.product_setting.promotion_alert.description.label"
    }
  ],
  "presets": [{ "name": "t:sections.all.product_setting.ask_question.name" }]
}
{% endschema %}
