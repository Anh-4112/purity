{{ 'blog.css' | asset_url | stylesheet_tag }}
{%- if article and article != empty -%}
  <div
    class="article-card-wrapper item-load {{ class }}"
  >
    <div
      class="card article-card{{ featured-blog }}{% if is_featured_blog %} custom-blog-featured block flex-1025 wrap gap rounded{% endif %}" {% if is_featured_blog %} style="--col-width: 66%;--gap: 0px;"{% endif %}
    >
      <div class="{% if is_featured_blog %} col-1025-w-custom m-0  w-custom{% else %}article_post-image mb-20{% endif %}">
        {%- if show_image == true and article.image -%}
          {%- liquid
            assign alt = article.title | escape
            if article.image.alt != blank
              assign alt = article.image.alt | escape
            endif
          -%}
          <a
            class="{% if is_featured_blog %} block h-full{% else %}hover-effect rounded block{% endif %}"
            href="{{ article.url }}"
            class="remove-underline"
            aria-label="{{ article.title | escape }}"
            {% if media_aspect_ratio != 'adapt' %}
              style="--aspect-ratio:{{ media_aspect_ratio }};"
            {% else %}
              style="--aspect-ratio:{{ article.image.aspect_ratio }};"
            {% endif %}
          >
            {% render 'responsive-image',
              type: 'blog',
              class: 'blog__img w-full h-full object-fit-cover rounded' ,
              image: article.image,
              image_alt: alt,
              container: container,
              column: column,
              column_mobile: column_mobile,
              padding: padding
            %}
          </a>
        {%- endif -%}
      </div>
      <div
        class="card__content{% if is_featured_blog %} col-1025-remaining flex column p-30 p-xl-50 justify-content-end bg-secondary flex-1{% endif %}"
        {% if is_featured_blog %}
          style="--color-background-2: {{ background_color }};"
        {% endif %}
      >
        {%- if show_tags or show_cate -%}
          <ul class="list-unstyle p-0 m-0 mb-10 flex wrap gap-5">
            {%- if show_cate -%}
              {% assign blog_name = article.handle | split: '/' | first %}
              {% if blog_name != blank %}
                <li class="blog-meta-tag blog-cate inline-flex align-center">
                  <a
                    class="post-tags blog-cate inline-block bg-primary color-white btn-rounded fs-13 px-15 py-4"
                    href="{{ blog.url }}"
                    aria-label="blog category"
                  >
                    {{ blog_name | capitalize }}
                  </a>
                </li>
              {% endif %}
            {%- endif -%}
            {% if show_tags %}
              {% if article.tags.size > 0 %}
                {% for tag in article.tags limit: 5 %}
                  <li class="blog-tag inline-flex align-center inline-block color-white bg-primary px-15 py-4 btn-rounded fs-13 relative pointer-none">
                    {% if current_tags contains tag %}
                      {{ tag }}
                    {% else %}
                      {{ tag | link_to_tag: tag }}
                    {% endif %}
                  </li>
                {% endfor %}
              {% endif %}
            {% endif %}
          </ul>
        {%- endif -%}
        <div class="card__heading mb-10{% if sec_settings.columns_desktop > 3 %} h5{% else %} h4{% endif %}">
          <a
            href="{{ article.url }}"
            class="heading-color remove-underline"
          >
            {{ article.title | escape }}
          </a>
        </div>
        {%- if show_excerpt and is_featured_blog != true -%}
          {%- if article.excerpt.size > 0 or article.content.size > 0 -%}
            <p class="article-card__excerpt rte-width rte mb-15">
              {%- if article.excerpt.size > 0 -%}
                {{ article.excerpt | strip_html | truncatewords: 30 }}
              {%- else -%}
                {{ article.content | strip_html | truncatewords: 30 }}
              {%- endif -%}
            </p>
          {%- endif -%}
        {%- endif -%}
        <ul class="article-card__info fs-13 mb-20 grey-color capitalize list-unstyled flex align-center gap-15">
          {%- if show_date -%}
            <li class="post-date">
              {{- article.published_at | date: '%d %b %Y' -}}
            </li>
          {%- endif -%}
          {%- if show_author -%}
            <svg width="5" height="5" viewBox="0 0 10 10" fill="none">
              <use href="#icon-dot"></use>
            </svg>
            <li class="post-author">
              {{ 'blogs.article.by_html' | t: author: article.author -}}
            </li>
          {%- endif -%}
          {%- if show_comment_count and blog.comments_enabled? -%}
            <li class="blog-comments">
              {{ 'blogs.article.comments' | t: count: article.comments_count -}}
            </li>
          {%- endif -%}
        </ul>
        {%- if show_excerpt and is_featured_blog == true -%}
          {%- if article.excerpt.size > 0 or article.content.size > 0 -%}
            <p class="article-card__excerpt rte-width rte mb-30 text-truncate">
              {%- if article.excerpt.size > 0 -%}
                {{ article.excerpt | strip_html | truncatewords: 30 }}
              {%- else -%}
                {{ article.content | strip_html | truncatewords: 30 }}
              {%- endif -%}
            </p>
          {%- endif -%}
        {%- endif -%}

        {%- if is_featured_blog -%}
          <div class="flex wrap gap-10 text-center">
            {% assign button_link = article.url %}
            <a
              {% if button_link == blank %}
                role="link" aria-disabled="true"
              {% else %}
                href="{{ button_link | default: "#" }}"
              {% endif %}
              aria-label="{{ button_label }}"
              class="btn-{{ button_type }}{% if button_type == "link" %} align-self-center border-animation{% else %} btn w-custom max-w-100{% endif %} "
              style="--width: 20rem;"
            >
              {{ button_label }}
            </a>
          </div>
        {%- endif -%}
      </div>
    </div>
  </div>
{%- endif -%}
